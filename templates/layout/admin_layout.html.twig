{% extends 'base.html.twig' %}

{% block title %}{% endblock %}

{% block body %}
<div class="bg-pink-50 min-h-screen ">

    {% set currentRoute = app.request.attributes.get('_route') %}

    {% if is_granted('IS_AUTHENTICATED_FULLY') %}
    <div class=" container mx-auto  py-4">
        <div class="flex justify-between p-4 bg-white rounded shadow mb-4">
            <p class="text-gray-700">
                Bonjour <span class="font-bold">{{ app.user.email }}</span>
            </p>
            <div class="text-right">
                <p class="font-bold">DÃ©partement : <span class="font-normal">{{ app.user.departement }}</span></p>
                <p class="font-bold">Matricule : <span class="font-normal">{{ app.user.matricule }}</span></p>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Layout principal en deux colonnes : aside + main -->
    <div class="container mx-auto flex ">

        <!-- Sidebar -->
        <aside class="w-64 min-h-screen bg-white shadow-lg flex flex-col rounded">
            <div class="p-6 border-b">
                <h1 class="text-2xl font-bold text-indigo-600">ðŸ”¥ KitchenShop</h1>
            </div>

            <nav class="flex-1 px-4 py-6 space-y-2 text-gray-700">
                <a href="{{ path('app_admin_dashboard') }}" class="flex items-center space-x-3 px-4 py-2 rounded-lg hover:bg-indigo-100 {{ currentRoute == 'app_admin_dashboard' ? 'bg-indigo-50 font-semibold' : '' }}">
                   <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-layout-dashboard-icon lucide-layout-dashboard"><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></svg>
                    <span>Dashboard</span>
                </a>
                <a href="{{ path('app_admin_product') }}" class="flex items-center space-x-3 px-4 py-2 rounded-lg hover:bg-indigo-100">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package-search-icon lucide-package-search"><path d="M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14"/><path d="m7.5 4.27 9 5.15"/><polyline points="3.29 7 12 12 20.71 7"/><line x1="12" x2="12" y1="22" y2="12"/><circle cx="18.5" cy="15.5" r="2.5"/><path d="M20.27 17.27 22 19"/></svg>
                    <span>Produits</span>
                </a>
                   <a href="{{ path('app_admin_order') }}" class="flex items-center space-x-3 px-4 py-2 rounded-lg hover:bg-indigo-100">
                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shopping-bag-icon lucide-shopping-bag"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
                    <span>Commandes</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-4 py-2 rounded-lg hover:bg-indigo-100">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users-round-icon lucide-users-round"><path d="M18 21a8 8 0 0 0-16 0"/><circle cx="10" cy="8" r="5"/><path d="M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3"/></svg>
                    <span>Utilisateurs</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-4 py-2 rounded-lg hover:bg-indigo-100">
                    <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path d="M12 8c1.38 0 2.5-1.12 2.5-2.5S13.38 3 12 3 9.5 4.12 9.5 5.5 10.62 8 12 8zm0 0v13m6-8H6" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Transactions</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-4 py-2 rounded-lg hover:bg-indigo-100">
                    <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path d="M12 8c-1.1 0-2 .9-2 2v4h4v-4c0-1.1-.9-2-2-2zm0-5c1.66 0 3 1.34 3 3v1h-6V6c0-1.66 1.34-3 3-3zM5 20h14v-2H5v2z" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>ParamÃ¨tres</span>
                </a>
            </nav>

            <div class="p-4 border-t">
                <a href="{{ path('app_logout') }}" class="flex items-center space-x-2 text-red-500 hover:underline">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a2 2 0 002 2h3a2 2 0 002-2V5a2 2 0 00-2-2h-3a2 2 0 00-2 2v1" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>DÃ©connexion</span>
                </a>
            </div>
        </aside>

        <!-- Contenu principal -->
        <main class="flex-1 pl-6">
            {% block main %}
            {% endblock %}
        </main>
    </div>
</div>
{% endblock %}